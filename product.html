<!DOCTYPE html>
<html lang="en">
<head>
  <title>Detail Produk</title>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_AUTH_DOMAIN",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_STORAGE_BUCKET",
      messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
      appId: "YOUR_APP_ID"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
  </script>
</head>
<body>
  <h1>Detail Produk</h1>
  <div id="product-details"></div>
</body>
<script>
  const productDetails = document.getElementById('product-details');
  const urlParams = new URLSearchParams(window.location.search);
  const productId = urlParams.get('id');

  if (productId) {
    db.collection('products').doc(productId).get().then(doc => {
      if (doc.exists) {
        const product = doc.data();
        productDetails.innerHTML = `
          <img src="${product.image}" alt="${product.name}" style="width: 200px;">
          <h2>${product.name}</h2>
          <p>Harga: Rp ${product.price}</p>
          <p>Stok: ${product.stock}</p>
          <button onclick="buyProduct('${doc.id}')">Beli Sekarang</button>
        `;
      } else {
        productDetails.innerHTML = '<p>Produk tidak ditemukan</p>';
      }
    });
  } else {
    productDetails.innerHTML = '<p>ID Produk tidak valid</p>';
  }

  function buyProduct(productId) {
    alert(`Produk dengan ID ${productId} telah dibeli!`);
    // Tambahkan logika transaksi di sini.
  }
</script>
</html>
